# KB парсер

Анимированные 3d модели игр серии "King's Bounty" имеют расширение .bma. kb_parser преобразует 3d модели формата .bma в 3d модели формата .gltf. Для компиляции парсера нужны tinygltf (в моем случае из состава vcpkg) и Visual Studio 2022 Community Edition. Для тестирования рекомендую приобрести GoG-версию игры "King's Bounty: Warriors of the North" и воспользоваться 7-zip для распаковки ресурсов.

Что не сделано:

1. Код не обрабатывает модели с более чем 1 материалом.
2. Из всех параметров материалов код использует только texDiffuse и texSpecular и игнорирует все числовые параметры cDiffuse, cSpecular, env... и т.д. и т.п. Поэтому на модели видны блики там, где их быть не должно.
3. Игнорируется 3 блок в bma - предположительно блок тени.
4. В некоторых моделях генерируются ошибки анимации по неизвестной причине.

Пример:

![Пример результата преобразования](./example/2.gif)